{"ast":null,"code":"var _jsxFileName = \"/home/etech/clients/pythonreacttest/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Button, Navbar, Spinner } from \"react-bootstrap\";\nimport { LoginRequest } from \"../../Redux/createAction\";\nimport \"./Login.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [password, setpassword] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const state = useSelector(state => {\n    return state.Loginstatus;\n  });\n\n  const handleSubmit = () => {\n    let loginData = {\n      password: password.trim(),\n      email: email.trim()\n    };\n    dispatch(LoginRequest(loginData));\n    setemail(\"\");\n    setpassword(\"\"); // email:email.trim()\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") && localStorage.getItem(\"userType\") === \"Admin\") {// history.push(\"/admin/dashboard\");\n    } else {\n      localStorage.clear(); // history.push(\"/\");\n    }\n  }, []);\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") === false) {// history.push(\"/\");\n    }\n  });\n  useEffect(() => {\n    if (state.isLogin && localStorage.getItem(\"token\")) {\n      if (state.response.role.toLowerCase() === \"admin\") {\n        // history.push(\"/admin/dashboard\");\n        localStorage.setItem(\"userType\", state.response.role);\n      } else {\n        localStorage.clear(); // history.push(\"/\");\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          children: \"Hotel App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/registration\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Enter your email\",\n            value: email,\n            onChange: e => setemail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGroupPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setpassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: email && password ? false : true,\n          onClick: handleSubmit,\n          type: \"submit\",\n          variant: \"primary\",\n          children: state.isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this) : \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), state.error ? /*#__PURE__*/_jsxDEV(\"h6\", {\n          style: {\n            color: \"red\"\n          },\n          children: \"User not exists\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1410 300\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        fill: \"#0099ff\",\n        fillOpacity: \"1\",\n        d: \"M0,64L34.3,53.3C68.6,43,137,21,206,53.3C274.3,85,343,171,411,224C480,277,549,299,617,256C685.7,213,754,107,823,101.3C891.4,96,960,192,1029,213.3C1097.1,235,1166,181,1234,160C1302.9,139,1371,149,1406,154.7L1440,160L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"FBRsBjmHFNhEHPIUT/LtfhWG5RE=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/etech/clients/pythonreacttest/src/components/Login/Login.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Form","Button","Navbar","Spinner","LoginRequest","useNavigate","Link","Login","password","setpassword","email","setemail","dispatch","history","state","Loginstatus","handleSubmit","loginData","trim","localStorage","getItem","clear","isLogin","response","role","toLowerCase","setItem","e","target","value","isLoading","error","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Button, Navbar, Spinner } from \"react-bootstrap\";\nimport { LoginRequest } from \"../../Redux/createAction\";\nimport \"./Login.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nconst Login = () => {\n  const [password, setpassword] = useState(\"\");\n  const [email,setemail]=useState(\"\")\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const state = useSelector((state) => {\n    return state.Loginstatus;\n  });\n  const handleSubmit = () => {\n    let loginData = {\n      password: password.trim(),\n      email:email.trim()\n    };\n    dispatch(LoginRequest(loginData));\n    \n      setemail(\"\")\n      setpassword(\"\");\n   \n      // email:email.trim()\n  };\n  useEffect(() => {\n    if (\n      localStorage.getItem(\"token\") &&\n      localStorage.getItem(\"userType\") === \"Admin\"\n    ) {\n      // history.push(\"/admin/dashboard\");\n    }  else {\n      localStorage.clear();\n      // history.push(\"/\");\n    }\n  }, []);\n\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") === false) {\n      // history.push(\"/\");\n    }\n  });\n  useEffect(() => {\n    if (state.isLogin && localStorage.getItem(\"token\")) {\n      if (state.response.role.toLowerCase() === \"admin\") {\n        // history.push(\"/admin/dashboard\");\n        localStorage.setItem(\"userType\", state.response.role);\n      }  else {\n        localStorage.clear();\n        // history.push(\"/\");\n      }\n    }\n  });\n  return (\n    <React.Fragment>\n      <Navbar bg=\"dark\" variant=\"dark\">\n        <Link to=\"/\">\n          <Navbar.Brand>Hotel App</Navbar.Brand>\n        </Link>\n        <Link to=\"/registration\">\n          <Button variant=\"outline-primary\">SignUp</Button>\n        </Link>\n      </Navbar>\n      <div className=\"Login\">\n        <h2>Login</h2>\n      </div>\n      <div className=\"Login\">\n        <Form>\n          {/* <Form.Group>\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter your username\"\n              value={username}\n              onChange={(e) => setusername(e.target.value)}\n            />\n          </Form.Group> */}\n          <Form.Group>\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              value={email}\n              onChange={(e) => setemail(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formGroupPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setpassword(e.target.value)}\n            />\n          </Form.Group>\n          <Button\n            disabled={email && password ? false : true}\n            onClick={handleSubmit}\n            type=\"submit\"\n            variant=\"primary\"\n          >\n            {state.isLoading ? (\n              <Spinner\n                animation=\"border\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              />\n            ) : (\n              \"Submit\"\n            )}\n          </Button>\n          {state.error ? (\n            <h6 style={{ color: \"red\" }}>User not exists</h6>\n          ) : null}\n        </Form>\n      </div>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1410 300\">\n        <path\n          fill=\"#0099ff\"\n          fillOpacity=\"1\"\n          d=\"M0,64L34.3,53.3C68.6,43,137,21,206,53.3C274.3,85,343,171,411,224C480,277,549,299,617,256C685.7,213,754,107,823,101.3C891.4,96,960,192,1029,213.3C1097.1,235,1166,181,1234,160C1302.9,139,1371,149,1406,154.7L1440,160L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z\"\n        ></path>\n      </svg>\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}