{"ast":null,"code":"import { takeLatest, put, call } from \"redux-saga/effects\";\nimport * as actions from \"../actionTypes\";\nimport { RegistationSuccess, RegistationError } from \"../actions\";\nimport axios from \"axios\";\nexport default function* registrationSaga(action) {\n  try {\n    let username = action.payload.username;\n    let password = action.payload.password;\n    let option = action.payload.option; // yield put(RegistationRequest);\n\n    const response = yield call(axios.get, `https://secure-refuge-14993.herokuapp.com/add_user?username=${username}&password=${password}&role=${option}`); // yield put(RegistationRequest({ isLoading: true }));\n\n    const data = response.data;\n\n    if (data.error === 0) {\n      yield put(RegistationSuccess({\n        registation: true,\n        response: data\n      }));\n    } else {\n      yield put(RegistationError({\n        registation: false,\n        error: data\n      }));\n    }\n  } catch (error) {\n    yield put(RegistationError({\n      registation: false,\n      error: error\n    }));\n  }\n}\nexport function* registrationRequest() {\n  yield takeLatest(actions.Registation_Request, registrationSaga);\n}","map":{"version":3,"sources":["/home/etech/clients/pythonreacttest/src/redux/saga/registration.js"],"names":["takeLatest","put","call","actions","RegistationSuccess","RegistationError","axios","registrationSaga","action","username","payload","password","option","response","get","data","error","registation","registrationRequest","Registation_Request"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,IAA1B,QAAsC,oBAAtC;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;AAEA,SACEC,kBADF,EAEEC,gBAFF,QAGO,YAHP;AAIA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAAUC,gBAAV,CAA2BC,MAA3B,EAAmC;AAChD,MAAI;AACF,QAAIC,QAAQ,GAAGD,MAAM,CAACE,OAAP,CAAeD,QAA9B;AACA,QAAIE,QAAQ,GAAGH,MAAM,CAACE,OAAP,CAAeC,QAA9B;AACA,QAAIC,MAAM,GAAGJ,MAAM,CAACE,OAAP,CAAeE,MAA5B,CAHE,CAKF;;AACA,UAAMC,QAAQ,GAAG,MAAMX,IAAI,CACzBI,KAAK,CAACQ,GADmB,EAExB,+DAA8DL,QAAS,aAAYE,QAAS,SAAQC,MAAO,EAFnF,CAA3B,CANE,CAWF;;AACA,UAAMG,IAAI,GAAGF,QAAQ,CAACE,IAAtB;;AAEA,QAAIA,IAAI,CAACC,KAAL,KAAe,CAAnB,EAAsB;AACpB,YAAMf,GAAG,CAACG,kBAAkB,CAAC;AAAEa,QAAAA,WAAW,EAAE,IAAf;AAAqBJ,QAAAA,QAAQ,EAAEE;AAA/B,OAAD,CAAnB,CAAT;AACD,KAFD,MAEO;AACL,YAAMd,GAAG,CAACI,gBAAgB,CAAC;AAAEY,QAAAA,WAAW,EAAE,KAAf;AAAsBD,QAAAA,KAAK,EAAED;AAA7B,OAAD,CAAjB,CAAT;AACD;AACF,GAnBD,CAmBE,OAAOC,KAAP,EAAc;AACd,UAAMf,GAAG,CAACI,gBAAgB,CAAC;AAAEY,MAAAA,WAAW,EAAE,KAAf;AAAsBD,MAAAA,KAAK,EAAEA;AAA7B,KAAD,CAAjB,CAAT;AACD;AACF;AAED,OAAO,UAAUE,mBAAV,GAAgC;AACrC,QAAMlB,UAAU,CAACG,OAAO,CAACgB,mBAAT,EAA8BZ,gBAA9B,CAAhB;AACD","sourcesContent":["import { takeLatest, put, call } from \"redux-saga/effects\";\nimport * as actions from \"../actionTypes\";\n\nimport {\n  RegistationSuccess,\n  RegistationError,\n} from \"../actions\";\nimport axios from \"axios\";\n\nexport default function* registrationSaga(action) {\n  try {\n    let username = action.payload.username;\n    let password = action.payload.password;\n    let option = action.payload.option;\n\n    // yield put(RegistationRequest);\n    const response = yield call(\n      axios.get,\n      `https://secure-refuge-14993.herokuapp.com/add_user?username=${username}&password=${password}&role=${option}`\n    );\n\n    // yield put(RegistationRequest({ isLoading: true }));\n    const data = response.data;\n  \n    if (data.error === 0) {\n      yield put(RegistationSuccess({ registation: true, response: data }));\n    } else {\n      yield put(RegistationError({ registation: false, error: data }));\n    }\n  } catch (error) {\n    yield put(RegistationError({ registation: false, error: error }));\n  }\n}\n\nexport function* registrationRequest() {\n  yield takeLatest(actions.Registation_Request, registrationSaga);\n}\n"]},"metadata":{},"sourceType":"module"}